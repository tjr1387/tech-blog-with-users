<section id="blog-entry" class="mx-1">
<div class="row my-3">
  <h2>{{title}}</h2>
  <div>
    <p>{{content}}</p>
    <p class="font-italic font-weight-light">By {{user.name}} on {{format_date date_created}}</p>
    {{!-- hide entryId in the DOM because can't use req.params here --}}
    <span id="hidden-id" hidden>{{id}}</span>
  </div>
</div>
</section>
<section class="entry-comments mx-3">
  <h3>Comments:</h3>
  {{#if comments }}
    {{#each comments as |comment|}}
    <div class="row border-bottom border-dark mb-2">
      <p>{{comment.content}}</p>
      <p class="font-italic font-weight-light">
        By {{comment.user.name}} on {{format_date comment.date_created}}
      </p>
      <button class="btn btn-danger btn-sm delete-comment-btn mb-1" data-id="{{comment.id}}">
        Delete
      </button>
    </div>
    {{/each}}
  {{else}}
    <p>There are currently no comments on this entry.</p>
  {{/if}}
</section>
{{!-- new comment form --}}
{{#if logged_in}}
<form class="mt-3 p-2" id="add-comment-form">
  <div class="form-group">
    <label for="comment-body">Leave comment:</label>
    <textarea class="form-control" id="comment-body" 
              aria-describedby="textareaHelp" placeholder="Your comment goes here" rows="6">
    </textarea>
  </div>
  <button type="submit" id="add-comment-btn" class="btn btn-primary mt-1">Add comment</button>
</form>
{{/if}}

<script src="/js/blogentry.js"></script>